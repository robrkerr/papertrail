<h3> {{document_title}} </h3>

<div><a href="#/{{document.id}}/points"> Edit document points</a></div>
<div><a href="#/"> Back to document list</a></div>

<div><button class="in_text" ng-click="jump_back()">Jump back</button></div>

<div class="column_container" style="left: {{(num_panels-panel_points.length)*panel_width}}px">
	<div class="column_outer" style="width: {{panel_width}}px" ng-repeat="panel in panel_points">
		<div class="column_inner">
			<span class="{{point.class}} {{point.context}}" ng-click="activate(point,$parent.$index+1)" ng-repeat="point in panel.children">
				<span class="context" ng-hide="point.class != 'activated'"> 
					{{point.context}}
				</span>
				<span class="{{point.context}}_inner" mathjax-bind="point.text"></span>
			</span>
			<div ng-if="(panel_points.length == $index+1)">
				<textarea class="comment_box" type="text" ng-model="panel_points[panel_points.length-1].new_comment"></textarea>
				<button class="in_text" ng-click="add_comment()">Add Comment</button>
			</div>
		</div>
	</div>
</div>